<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EXTRANEF - Gestão de Funcionários</title>
    <link rel="stylesheet" href="style-electron.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <header class="header">
        <h1><i class="fas fa-users"></i> Gestão de Funcionários</h1>
        <nav class="nav">
          <a href="index-electron.html" class="nav-link"
            ><i class="fas fa-home"></i> Início</a
          >
          <a href="funcionarios.html" class="nav-link active"
            ><i class="fas fa-users"></i> Funcionários</a
          >
          <a href="faltas.html" class="nav-link"
            ><i class="fas fa-calendar-times"></i> Faltas</a
          >
          <a href="ferias.html" class="nav-link"
            ><i class="fas fa-umbrella-beach"></i> Férias</a
          >
          <a href="atestados.html" class="nav-link"
            ><i class="fas fa-file-medical"></i> Atestados</a
          >
          <a href="adm-electron.html" class="nav-link"
            ><i class="fas fa-cog"></i> Administração</a
          >
        </nav>
      </header>

      <!-- Conteúdo Principal -->
      <main class="main-content">
        <!-- Estatísticas -->
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">
              <i class="fas fa-users"></i>
            </div>
            <div class="stat-content">
              <h3>Total de Funcionários</h3>
              <p class="stat-number" id="totalFuncionarios">0</p>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">
              <i class="fas fa-building"></i>
            </div>
            <div class="stat-content">
              <h3>Equipes</h3>
              <p class="stat-number" id="totalEquipes">0</p>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">
              <i class="fas fa-user-tie"></i>
            </div>
            <div class="stat-content">
              <h3>Cargos</h3>
              <p class="stat-number" id="totalCargos">0</p>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">
              <i class="fas fa-clock"></i>
            </div>
            <div class="stat-content">
              <h3>Horários</h3>
              <p class="stat-number" id="totalHorarios">0</p>
            </div>
          </div>
        </div>

        <!-- Botões de Ação -->
        <div class="action-buttons">
          <button class="btn btn-primary" onclick="abrirModalFuncionario()">
            <i class="fas fa-plus"></i> Novo Funcionário
          </button>
          <button class="btn btn-secondary" onclick="abrirModalEquipe()">
            <i class="fas fa-building"></i> Nova Equipe
          </button>
          <button class="btn btn-secondary" onclick="abrirModalCargo()">
            <i class="fas fa-user-tie"></i> Novo Cargo
          </button>
          <button class="btn btn-success" onclick="exportarDados()">
            <i class="fas fa-download"></i> Exportar Dados
          </button>
          <button class="btn btn-info" onclick="importarDados()">
            <i class="fas fa-upload"></i> Importar Dados
          </button>
        </div>

        <!-- Filtros -->
        <div class="filters">
          <div class="filter-group">
            <label for="filtroEquipe">Equipe:</label>
            <select id="filtroEquipe" onchange="filtrarFuncionarios()">
              <option value="">Todas as equipes</option>
            </select>
          </div>
          <div class="filter-group">
            <label for="filtroCargo">Cargo:</label>
            <select id="filtroCargo" onchange="filtrarFuncionarios()">
              <option value="">Todos os cargos</option>
            </select>
          </div>
          <div class="filter-group">
            <label for="filtroStatus">Status:</label>
            <select id="filtroStatus" onchange="filtrarFuncionarios()">
              <option value="">Todos</option>
              <option value="true">Ativo</option>
              <option value="false">Inativo</option>
            </select>
          </div>
          <div class="filter-group">
            <label for="buscaFuncionario">Buscar:</label>
            <input
              type="text"
              id="buscaFuncionario"
              placeholder="Nome, CPF ou matrícula..."
              onkeyup="filtrarFuncionarios()"
            />
          </div>
        </div>

        <!-- Tabela de Funcionários -->
        <div class="table-container">
          <table class="data-table" id="tabelaFuncionarios">
            <thead>
              <tr>
                <th>Nome</th>
                <th>Equipe</th>
                <th>Cargo</th>
                <th>Horário</th>
                <th>Tipo</th>
                <th>Status</th>
                <th>Ações</th>
              </tr>
            </thead>
            <tbody id="tbodyFuncionarios">
              <!-- Dados serão carregados dinamicamente -->
            </tbody>
          </table>
        </div>
      </main>
    </div>

    <!-- Modal Funcionário -->
    <div id="modalFuncionario" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="modalFuncionarioTitulo">Novo Funcionário</h2>
          <span class="close" onclick="fecharModalFuncionario()">&times;</span>
        </div>
        <form id="formFuncionario" onsubmit="salvarFuncionario(event)">
          <div class="form-row">
            <div class="form-group">
              <label for="nome">Nome Completo *</label>
              <input type="text" id="nome" name="nome" required />
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="dataAdmissao">Data de Admissão *</label>
              <input
                type="date"
                id="dataAdmissao"
                name="dataAdmissao"
                required
              />
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="equipeId">Equipe *</label>
              <select id="equipeId" name="equipeId" required>
                <option value="">Selecione uma equipe</option>
              </select>
            </div>
            <div class="form-group">
              <label for="cargoId">Cargo *</label>
              <select id="cargoId" name="cargoId" required>
                <option value="">Selecione um cargo</option>
              </select>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="horarioId">Horário *</label>
              <select id="horarioId" name="horarioId" required>
                <option value="">Selecione um horário</option>
              </select>
            </div>
            <div class="form-group">
              <label for="tipoContratoId">Tipo de Contrato *</label>
              <select id="tipoContratoId" name="tipoContratoId" required>
                <option value="">Selecione o tipo</option>
              </select>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="email">E-mail</label>
              <input type="email" id="email" name="email" />
            </div>
            <div class="form-group">
              <label for="telefone">Telefone</label>
              <input type="tel" id="telefone" name="telefone" />
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="endereco">Endereço</label>
              <input type="text" id="endereco" name="endereco" />
            </div>
            <div class="form-group">
              <label for="observacoes">Observações</label>
              <textarea id="observacoes" name="observacoes" rows="3"></textarea>
            </div>
          </div>
          <div class="form-actions">
            <button
              type="button"
              class="btn btn-secondary"
              onclick="fecharModalFuncionario()"
            >
              Cancelar
            </button>
            <button type="submit" class="btn btn-primary">Salvar</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal Equipe -->
    <div id="modalEquipe" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Nova Equipe</h2>
          <span class="close" onclick="fecharModalEquipe()">&times;</span>
        </div>
        <form id="formEquipe" onsubmit="salvarEquipe(event)">
          <div class="form-group">
            <label for="nomeEquipe">Nome da Equipe *</label>
            <input type="text" id="nomeEquipe" name="nomeEquipe" required />
          </div>
          <div class="form-group">
            <label for="descricaoEquipe">Descrição</label>
            <textarea
              id="descricaoEquipe"
              name="descricaoEquipe"
              rows="3"
            ></textarea>
          </div>
          <div class="form-actions">
            <button
              type="button"
              class="btn btn-secondary"
              onclick="fecharModalEquipe()"
            >
              Cancelar
            </button>
            <button type="submit" class="btn btn-primary">Salvar</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal Cargo -->
    <div id="modalCargo" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Novo Cargo</h2>
          <span class="close" onclick="fecharModalCargo()">&times;</span>
        </div>
        <form id="formCargo" onsubmit="salvarCargo(event)">
          <div class="form-group">
            <label for="nomeCargo">Nome do Cargo *</label>
            <input type="text" id="nomeCargo" name="nomeCargo" required />
          </div>
          <div class="form-group">
            <label for="nivelCargo">Nível Hierárquico *</label>
            <input
              type="number"
              id="nivelCargo"
              name="nivelCargo"
              min="1"
              max="10"
              required
            />
          </div>
          <div class="form-actions">
            <button
              type="button"
              class="btn btn-secondary"
              onclick="fecharModalCargo()"
            >
              Cancelar
            </button>
            <button type="submit" class="btn btn-primary">Salvar</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Scripts -->
    <script src="ui.js"></script>
    <script src="database.js"></script>
    <script src="funcionarios.js"></script>
  </body>
</html>
